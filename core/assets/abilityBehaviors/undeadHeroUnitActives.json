{
	"abilityList": [{
		"ids": [{"id":"AUsl", "castId": "sleep"}],
		"type": "NORMAL_UNITTARGET_SIMPLE",
		"onAddAbility": [{
				"type": "createStateModBuff",
				"buffType": "SLEEPING"
			},{
				"type": "storeValueLocally",
				"key": {
					"type": "rawString",
					"value": "sleep"
				},
				"instanceValue": {
					"type": "rawBoolean",
					"value": "false"
				},
				"valueToStore": {
					"type": "getLastCreatedStateModBuff"
				}
			},{
				"type": "createStateModBuff",
				"buffType": "INVULNERABLE"
			},{
				"type": "storeValueLocally",
				"key": {
					"type": "rawString",
					"value": "invuln"
				},
				"instanceValue": {
					"type": "rawBoolean",
					"value": "false"
				},
				"valueToStore": {
					"type": "getLastCreatedStateModBuff"
				}
		}],
		"onBeginCasting": [{
				"type": "createTemporarySpellEffectOnUnit",
				"target": {
					"type": "getAbilityTargetedUnit"
				},
				"id": {
					"type": "getSecondBuffId"
				},
				"effectType": "TARGET"
			},{
				"type": "createTimedBuff",
				"buffId": {
					"type": "getSecondBuffId"
				},
				"duration": {
					"type": "getAbilityDataAsFloat",
					"dataField": "A"
				},
				"showIcon": {
					"type": "rawBoolean",
					"value": "false"
				},
				"onAddActions": [{
						"type": "addStateModBuff",
						"targetUnit": {
							"type": "getCastingUnit"
						},
						"buff": {
							"type": "getStoredStateModBuffByKey",
							"instanceValue": {
								"type": "rawBoolean",
								"value": "false"
							},
							"key": {
								"type": "rawString",
								"value": "invuln"
							}
						}
				}],
				"onRemoveActions": [{
						"type": "removeStateModBuff",
						"targetUnit": {
							"type": "getCastingUnit"
						},
						"buff": {
							"type": "getStoredStateModBuffByKey",
							"instanceValue": {
								"type": "rawBoolean",
								"value": "false"
							},
							"key": {
								"type": "rawString",
								"value": "invuln"
							}
						}
				}]
			},{
				"type": "addBuff",
				"target": {
					"type": "getAbilityTargetedUnit"
				},
				"buff": {
					"type": "getLastCreatedBuff"
				}
			},{
				"type": "createTimedBuff",
				"buffId": {
					"type": "getFirstBuffId"
				},
				"duration": {
					"type": "getAbilityDuration",
					"target": {
						"type": "getAbilityTargetedUnit"
					}
				},
				"onAddActions": [{
						"type": "addStateModBuff",
						"targetUnit": {
							"type": "getCastingUnit"
						},
						"buff": {
							"type": "getStoredStateModBuffByKey",
							"instanceValue": {
								"type": "rawBoolean",
								"value": "false"
							},
							"key": {
								"type": "rawString",
								"value": "sleep"
							}
						}
					},{
						"type": "createDamageTakenListener",
						"actions": [{
								"type": "removeDamageTakenListener",
								"targetUnit": {
									"type": "getCastingUnit"
								},
								"listener": {
									"type": "getStoredDamageTakenListenerByKey",
									"key": {
										"type": "rawString",
										"value": "awakenListener"
									}
								}
							
							},{
								"type": "removeBuff",
								"target": {
									"type": "getCastingUnit"
								},
								"buff": {
									"type": "getStoredBuffByKey",
									"key": {
										"type": "rawString",
										"value": "sleepbuff"
									}
								}
						}]
					},{
						"type": "addDamageTakenListener",
						"targetUnit": {
							"type": "getCastingUnit"
						},
						"listener": {
							"type": "getLastCreatedDamageTakenListener"
						}
					},{
						"type": "storeValueLocally",
						"key": {
							"type": "rawString",
							"value": "awakenListener"
						},
						"valueToStore": {
							"type": "getLastCreatedDamageTakenListener"
						}
				}],
				"onRemoveActions": [{
						"type": "removeStateModBuff",
						"targetUnit": {
							"type": "getCastingUnit"
						},
						"buff": {
							"type": "getStoredStateModBuffByKey",
							"instanceValue": {
								"type": "rawBoolean",
								"value": "false"
							},
							"key": {
								"type": "rawString",
								"value": "sleep"
							}
						}
					},{
						"type": "cleanUpCastInstance"
				}]
			},{
				"type": "addBuff",
				"target": {
					"type": "getAbilityTargetedUnit"
				},
				"buff": {
					"type": "getLastCreatedBuff"
				}
			},{
				"type": "storeValueLocally",
				"key": {
					"type": "rawString",
					"value": "sleepbuff"
				},
				"valueToStore": {
					"type": "getLastCreatedBuff"
				}
		}]
	}]
}